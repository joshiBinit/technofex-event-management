<div class="p-6 bg-gray-100 min-h-screen space-y-6">
  <div class="flex justify-between items-center">
    <h1 class="text-2xl font-bold">My Dashboard</h1>
    <button mat-raised-button color="primary" [routerLink]="'/event/list'">
      Browse Events
    </button>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    <mat-card class="p-4 text-center">
      <h2 class="text-lg font-semibold">My Booked Events</h2>
      <p class="text-3xl mt-2">{{ bookedEvents.length }}</p>
    </mat-card>
    <mat-card class="p-4 text-center">
      <h2 class="text-lg font-semibold">Past Bookings</h2>
      <p class="text-3xl mt-2">0</p>
    </mat-card>
    <mat-card class="p-4 text-center">
      <h2 class="text-lg font-semibold">Events Attended</h2>
      <p class="text-3xl mt-2">0</p>
    </mat-card>
  </div>

  <h1 class="text-2xl font-bold">My Bookings</h1>
  <div class="bg-gray-100 mb-10">
    <p *ngIf="bookedEvents.length === 0" class="text-center">
      No event booked yet
    </p>

    <mat-table
      *ngIf="bookedEvents.length > 0"
      [dataSource]="bookedEvents"
      class="mat-elevation-z2 w-full bg-white"
    >
      <ng-container matColumnDef="title">
        <mat-header-cell *matHeaderCellDef> Event </mat-header-cell>
        <mat-cell *matCellDef="let bookedEvent">
          {{ bookedEvent.title }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="category">
        <mat-header-cell *matHeaderCellDef> Category </mat-header-cell>
        <mat-cell *matCellDef="let bookedEvent">
          {{ bookedEvent.category }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="date">
        <mat-header-cell *matHeaderCellDef> Date </mat-header-cell>
        <mat-cell *matCellDef="let bookedEvent">
          {{ bookedEvent.date }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="time">
        <mat-header-cell *matHeaderCellDef> Time </mat-header-cell>
        <mat-cell *matCellDef="let bookedEvent">
          {{ bookedEvent.time }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="tickets">
        <mat-header-cell *matHeaderCellDef> Tickets </mat-header-cell>
        <mat-cell *matCellDef="let bookedEvent"> 1 </mat-cell>
      </ng-container>

      <ng-container matColumnDef="price">
        <mat-header-cell *matHeaderCellDef> Price </mat-header-cell>
        <mat-cell *matCellDef="let bookedEvent">
          {{ bookedEvent.price | currency : "USD" }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="actions">
        <mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>
        <mat-cell *matCellDef="let bookedEvent">
          <button
            mat-button
            color="primary"
            [routerLink]="['/user/booking-detail', bookedEvent.id]"
          >
            View
          </button>
          <button
            mat-button
            color="warn"
            (click)="onCancelBooking(bookedEvent.id)"
          >
            Cancel
          </button>
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    </mat-table>
  </div>

  <div>
    <h2 class="text-lg font-semibold mb-2">Recommended for You</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <mat-card *ngFor="let event of recomendedEvents" class="p-4">
        <h3 class="font-semibold">{{ event.title }}</h3>
        <p class="text-sm text-gray-600">
          {{ event.date }} | {{ event.location }}
        </p>
        <p class="mt-2 font-medium">{{ event.price | currency : "USD" }}</p>
        <button
          mat-raised-button
          color="primary"
          class="mt-2 w-full"
          (click)="onBookNow(event)"
        >
          Book Now
        </button>
      </mat-card>
    </div>
  </div>
</div>
